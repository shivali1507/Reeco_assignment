{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { approveItem, updateCartAfterEdit, updateMissingItem } from \"../../../redux/orderSlice\";\nexport const useOrderStatusLogic = item => {\n  _s();\n  const [showModal, setShowModal] = React.useState(false);\n  const [showEditModal, setShowEditModal] = React.useState(false);\n  const [reasons, setReasons] = React.useState(item.reasons || []);\n  const [price, setPrice] = React.useState(item.price || 0);\n  const [quantity, setQuantity] = React.useState(item.quantity || 0);\n  const dispatch = useDispatch();\n  const {\n    approved,\n    missing,\n    urgent\n  } = item;\n  const handleApproveItem = () => {\n    dispatch(approveItem({\n      item,\n      approved: !approved\n    }));\n  };\n  const handleMissingItem = urgent => {\n    dispatch(updateMissingItem({\n      item,\n      missing: !missing,\n      urgent: urgent\n    }));\n    setShowModal(false);\n  };\n  const handleSelectReason = reason => {\n    if (reasons.includes(reason)) {\n      setReasons(reasons.filter(r => r !== reason));\n      return;\n    }\n    setReasons([...reasons, reason]);\n  };\n  const handleSendOrder = () => {\n    dispatch(updateCartAfterEdit({\n      item,\n      price,\n      quantity,\n      reasons\n    }));\n    setShowEditModal(false);\n  };\n  const handleEditModalClose = () => {\n    setShowEditModal(false);\n    setReasons(item.reasons || []);\n    setPrice(item.price);\n    setQuantity(item.quantity);\n  };\n  return {\n    showModal,\n    showEditModal,\n    reasons,\n    price,\n    quantity,\n    handleApproveItem,\n    handleMissingItem,\n    handleSelectReason,\n    handleSendOrder,\n    handleEditModalClose,\n    setShowModal,\n    setShowEditModal,\n    setPrice,\n    setQuantity\n  };\n};\n_s(useOrderStatusLogic, \"LftKo2FLxqS3VPJFnkOhhYC+z/M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["React","useDispatch","approveItem","updateCartAfterEdit","updateMissingItem","useOrderStatusLogic","item","_s","showModal","setShowModal","useState","showEditModal","setShowEditModal","reasons","setReasons","price","setPrice","quantity","setQuantity","dispatch","approved","missing","urgent","handleApproveItem","handleMissingItem","handleSelectReason","reason","includes","filter","r","handleSendOrder","handleEditModalClose"],"sources":["/Users/arideepdutta/Downloads/reeco-master/src/orders/orderContents/orderStatus/useOrderStatusLogic.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  approveItem,\n  updateCartAfterEdit,\n  updateMissingItem,\n} from \"../../../redux/orderSlice\";\n\nexport const useOrderStatusLogic = (item) => {\n  const [showModal, setShowModal] = React.useState(false);\n  const [showEditModal, setShowEditModal] = React.useState(false);\n  const [reasons, setReasons] = React.useState(item.reasons || []);\n  const [price, setPrice] = React.useState(item.price || 0);\n  const [quantity, setQuantity] = React.useState(item.quantity || 0);\n  const dispatch = useDispatch();\n\n\n  const { approved, missing, urgent } = item;\n\n  const handleApproveItem = () => {\n    dispatch(approveItem({ item, approved: !approved }));\n  };\n\n  const handleMissingItem = (urgent) => {\n    dispatch(updateMissingItem({ item, missing: !missing, urgent: urgent }));\n    setShowModal(false);\n  };\n\n  const handleSelectReason = (reason) => {\n    if (reasons.includes(reason)) {\n      setReasons(reasons.filter((r) => r !== reason));\n      return;\n    }\n    setReasons([...reasons, reason]);\n  };\n\n  const handleSendOrder = () => {\n    dispatch(updateCartAfterEdit({ item, price, quantity, reasons }));\n    setShowEditModal(false);\n  };\n\n  const handleEditModalClose = () => {\n    setShowEditModal(false);\n    setReasons(item.reasons || []);\n    setPrice(item.price);\n    setQuantity(item.quantity);\n  };\n\n  return {\n   showModal,\n   showEditModal,\n   reasons,\n   price,\n   quantity,\n   handleApproveItem,\n   handleMissingItem,\n   handleSelectReason,\n   handleSendOrder,\n   handleEditModalClose,\n   setShowModal,\n   setShowEditModal,\n   setPrice,\n   setQuantity,\n  }\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SACEC,WAAW,EACXC,mBAAmB,EACnBC,iBAAiB,QACZ,2BAA2B;AAElC,OAAO,MAAMC,mBAAmB,GAAIC,IAAI,IAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGZ,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGd,KAAK,CAACU,QAAQ,CAACJ,IAAI,CAACO,OAAO,IAAI,EAAE,CAAC;EAChE,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,KAAK,CAACU,QAAQ,CAACJ,IAAI,CAACS,KAAK,IAAI,CAAC,CAAC;EACzD,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,KAAK,CAACU,QAAQ,CAACJ,IAAI,CAACW,QAAQ,IAAI,CAAC,CAAC;EAClE,MAAME,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAG9B,MAAM;IAAEmB,QAAQ;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAGhB,IAAI;EAE1C,MAAMiB,iBAAiB,GAAGA,CAAA,KAAM;IAC9BJ,QAAQ,CAACjB,WAAW,CAAC;MAAEI,IAAI;MAAEc,QAAQ,EAAE,CAACA;IAAS,CAAC,CAAC,CAAC;EACtD,CAAC;EAED,MAAMI,iBAAiB,GAAIF,MAAM,IAAK;IACpCH,QAAQ,CAACf,iBAAiB,CAAC;MAAEE,IAAI;MAAEe,OAAO,EAAE,CAACA,OAAO;MAAEC,MAAM,EAAEA;IAAO,CAAC,CAAC,CAAC;IACxEb,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMgB,kBAAkB,GAAIC,MAAM,IAAK;IACrC,IAAIb,OAAO,CAACc,QAAQ,CAACD,MAAM,CAAC,EAAE;MAC5BZ,UAAU,CAACD,OAAO,CAACe,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAKH,MAAM,CAAC,CAAC;MAC/C;IACF;IACAZ,UAAU,CAAC,CAAC,GAAGD,OAAO,EAAEa,MAAM,CAAC,CAAC;EAClC,CAAC;EAED,MAAMI,eAAe,GAAGA,CAAA,KAAM;IAC5BX,QAAQ,CAAChB,mBAAmB,CAAC;MAAEG,IAAI;MAAES,KAAK;MAAEE,QAAQ;MAAEJ;IAAQ,CAAC,CAAC,CAAC;IACjED,gBAAgB,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,MAAMmB,oBAAoB,GAAGA,CAAA,KAAM;IACjCnB,gBAAgB,CAAC,KAAK,CAAC;IACvBE,UAAU,CAACR,IAAI,CAACO,OAAO,IAAI,EAAE,CAAC;IAC9BG,QAAQ,CAACV,IAAI,CAACS,KAAK,CAAC;IACpBG,WAAW,CAACZ,IAAI,CAACW,QAAQ,CAAC;EAC5B,CAAC;EAED,OAAO;IACNT,SAAS;IACTG,aAAa;IACbE,OAAO;IACPE,KAAK;IACLE,QAAQ;IACRM,iBAAiB;IACjBC,iBAAiB;IACjBC,kBAAkB;IAClBK,eAAe;IACfC,oBAAoB;IACpBtB,YAAY;IACZG,gBAAgB;IAChBI,QAAQ;IACRE;EACD,CAAC;AACH,CAAC;AAAAX,EAAA,CAxDYF,mBAAmB;EAAA,QAMbJ,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}