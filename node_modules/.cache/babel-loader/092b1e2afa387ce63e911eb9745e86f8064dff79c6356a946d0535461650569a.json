{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getCatalog } from '../../../jsonData';\nimport { addProductsToCart } from \"../../../redux/orderSlice\";\nexport const useAddItemLogic = () => {\n  _s();\n  var _filter;\n  const dispatch = useDispatch();\n  const [searchText, setSearchText] = React.useState(\"\");\n  const [catalog, setCatalog] = React.useState([]);\n  const [isCatalogLoading, setIsCatalogLoading] = React.useState(false);\n  const [isCatalogEmpty, setIsCatalogEmpty] = React.useState(false);\n  const [isCatalogFetched, setIsCatalogFetched] = React.useState(false);\n  const [isInReviewMode, setIsInReviewMode] = React.useState(false);\n  const setInitialStates = () => {\n    setIsCatalogEmpty(false);\n    setIsCatalogLoading(false);\n    setIsCatalogFetched(false);\n    setIsInReviewMode(false);\n    setCatalog([]);\n    setSearchText(\"\");\n  };\n  const handleSearch = async () => {\n    setIsCatalogLoading(true);\n    setIsCatalogEmpty(false);\n    setIsInReviewMode(false);\n    try {\n      const result = await getCatalog(searchText.toLowerCase());\n      setCatalog(result);\n      if (result.length === 0) setIsCatalogEmpty(true);\n      setIsCatalogFetched(true);\n      setIsCatalogLoading(false);\n    } catch (e) {\n      setIsCatalogLoading(false);\n    }\n  };\n  const handleInputChange = ({\n    item,\n    type,\n    value\n  }) => {\n    if (isInReviewMode) return;\n    setCatalog(catalog => {\n      return catalog.map(eachCatalog => {\n        if (eachCatalog.uuid === item.uuid) {\n          eachCatalog[type] = value;\n        }\n        return eachCatalog;\n      });\n    });\n  };\n  const handleAddProducts = () => {\n    let requiredProducts = catalog.filter(eachCatalog => eachCatalog.quantity > 0);\n    dispatch(addProductsToCart({\n      products: requiredProducts\n    }));\n  };\n  const selectedProductCount = (_filter = (catalog || []).filter(({\n    quantity\n  }) => parseInt(quantity) > 0)) === null || _filter === void 0 ? void 0 : _filter.length;\n  return {\n    isCatalogLoading,\n    isCatalogEmpty,\n    isCatalogFetched,\n    searchText,\n    handleSearch,\n    handleInputChange,\n    handleAddProducts,\n    selectedProductCount,\n    setInitialStates,\n    isInReviewMode,\n    setSearchText,\n    catalog,\n    setIsInReviewMode\n  };\n};\n_s(useAddItemLogic, \"1kvwPlmbso+2GwSUVprOP41g+4c=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["React","useDispatch","getCatalog","addProductsToCart","useAddItemLogic","_s","_filter","dispatch","searchText","setSearchText","useState","catalog","setCatalog","isCatalogLoading","setIsCatalogLoading","isCatalogEmpty","setIsCatalogEmpty","isCatalogFetched","setIsCatalogFetched","isInReviewMode","setIsInReviewMode","setInitialStates","handleSearch","result","toLowerCase","length","e","handleInputChange","item","type","value","map","eachCatalog","uuid","handleAddProducts","requiredProducts","filter","quantity","products","selectedProductCount","parseInt"],"sources":["/Users/arideepdutta/Downloads/reeco-master/src/orders/orderContents/addItem/useAddItemLogic.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getCatalog } from '../../../jsonData';\nimport { addProductsToCart } from \"../../../redux/orderSlice\";\n\nexport const useAddItemLogic = () => {\n  const dispatch = useDispatch();\n  const [searchText, setSearchText] = React.useState(\"\");\n  const [catalog, setCatalog] = React.useState([]);\n  const [isCatalogLoading, setIsCatalogLoading] = React.useState(false);\n  const [isCatalogEmpty, setIsCatalogEmpty] = React.useState(false);\n  const [isCatalogFetched, setIsCatalogFetched] = React.useState(false);\n  const [isInReviewMode, setIsInReviewMode] = React.useState(false);\n  \n\n  const setInitialStates = () => {\n    setIsCatalogEmpty(false);\n    setIsCatalogLoading(false);\n    setIsCatalogFetched(false);\n    setIsInReviewMode(false);\n    setCatalog([]);\n    setSearchText(\"\");\n  }\n\n  const handleSearch = async () => {\n    setIsCatalogLoading(true);\n    setIsCatalogEmpty(false);\n    setIsInReviewMode(false);\n    try {\n      const result = await getCatalog(searchText.toLowerCase());\n      setCatalog(result);\n      if (result.length === 0) setIsCatalogEmpty(true);\n      setIsCatalogFetched(true);\n      setIsCatalogLoading(false);\n    } catch (e) {\n      setIsCatalogLoading(false);\n    }\n  };\n\n  const handleInputChange = ({ item, type, value }) => {\n    if (isInReviewMode) return;\n    setCatalog((catalog) => {\n      return catalog.map((eachCatalog) => {\n        if (eachCatalog.uuid === item.uuid) {\n          eachCatalog[type] = value;\n        }\n        return eachCatalog;\n      });\n    });\n  };\n\n  const handleAddProducts = () => {\n    let requiredProducts = catalog.filter(\n      (eachCatalog) => eachCatalog.quantity > 0\n    );\n    dispatch(addProductsToCart({ products: requiredProducts }));\n  };\n\n  const selectedProductCount = (catalog || []).filter(\n    ({ quantity }) => parseInt(quantity) > 0\n  )?.length;\n\n  return {\n  isCatalogLoading,\n  isCatalogEmpty,\n  isCatalogFetched,\n  searchText,\n  handleSearch,\n  handleInputChange,\n  handleAddProducts,\n  selectedProductCount,\n  setInitialStates,\n  isInReviewMode,\n  setSearchText,\n  catalog,\n  setIsInReviewMode,\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}